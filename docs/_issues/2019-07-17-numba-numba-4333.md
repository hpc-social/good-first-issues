---
tags: ,CUDA,feature_request
title: "Support numpy.isnan and numpy.isnat in cuda.jit kernels"
html_url: "https://github.com/numba/numba/issues/4333"
user: kkraus14
repo: numba/numba
---

Currently math.isnan is supported for checking for `NaN`s, but there's no way to check for `NaT`s easily short of viewing as an int64 and comparing to the minimum value (-9223372036854775808). Simple reproducer:
```python
import numpy as np
from numba import cuda

test_in = cuda.to_device(np.array([1,None,3], dtype='datetime64[ms]'))
test_out = cuda.to_device(np.array([1,2,3]))

@cuda.jit
def test_datetime_nat(in_array, out_array):
    i = cuda.grid(1)
    if i < in_array.size:
        if np.isnat(in_array[i]):
            out_array[i] = 100

test_datetime_nat.forall(test_in.size)(test_in, test_out)
```