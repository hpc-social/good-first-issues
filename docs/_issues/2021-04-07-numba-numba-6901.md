---
tags: ,ParallelAccelerator,lowpriority
title: "Stencil neighborhood option doesn't support numpy.int64."
html_url: "https://github.com/numba/numba/issues/6901"
user: DrTodd13
repo: numba/numba
---

In numba/stencils/stencil.py, there are various places (like line 552, "if isinstance(kernel_size[i][0], int):") where we check for "int" in relation to neighborhoods.  I ran across a case where I was creating a neighborhood tuple by extracting values from a Numpy array.    This causes a problem because those Numpy values will not match in these isinstance int checks.  I worked around it by converting to int during neighborhood tuple creation but perhaps a more flexible check in Numba would eliminate this conversion.