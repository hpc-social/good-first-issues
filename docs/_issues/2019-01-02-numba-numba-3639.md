---
tags: ,doc,easy
title: "[Docs?] Numba creates multiple Python objects for an object returned more than once"
html_url: "https://github.com/numba/numba/issues/3639"
user: asodeur
repo: numba/numba
---

<!--

Thanks for opening an issue! To help the Numba team handle your information
efficiently, please first ensure that there is no other issue present that
already describes the issue you have
(search at https://github.com/numba/numba/issues?&q=is%3Aissue).

For more general "how do I do X?" type questions, please speak to us in real
time on https://gitter.im/numba/numba or post to the Numba mailing list
https://groups.google.com/a/continuum.io/forum/#!forum/numba-users.

-->

If an object created in `nopython` is returned more than once from a function (in a tuple, say), Numba creates separate instances each time, ie the code below fails on the assertions.
```python
from numba import int64, jit, jitclass
from numpy import array

@jit(nopython=True)
def return_list_twice():
    the_list = [1, 2, 3]
    return the_list, the_list

@jit(nopython=True)
def return_array_twice():
    the_array = array([1, 2, 3])
    return the_array, the_array


@jitclass([('value', int64)])
class MyJitClass:
    def __init__(self):
        self.value = 42


@jit(nopython=True)
def return_jitclass_twice():
    the_class = MyJitClass()
    return the_class, the_class


list1, list2 = return_list_twice()
array1, array2 = return_array_twice()
class1, class2 = return_jitclass_twice()

assert list1 is list2
assert array1 is array2
assert class1 is class2
```
Not sure there is a use-case that really requires this, hence probably more of a documentation issue.

<!--

Before submitting a bug report please ensure that you can check off these boxes:

-->

- [x] I am using the latest released version of Numba (most recent is visible in
 the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).
- [x] I have included below a minimal working reproducer (if you are unsure how
 to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).

<!--

Please include details of the bug here, including, if applicable, what you
expected to happen!

-->
 

